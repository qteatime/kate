<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="# 00XX - Live auditing" href="00XX-live-audit.html" /><link rel="prev" title="Kate’s Design Documents" href="index.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2023.03.27 -->
        <title>#00XX — Capabilities - Kate 0.23.10 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     Both Kate and this documentation are a work in progress and may change at any time. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Kate 0.23.10 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Kate 0.23.10 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">End-user books</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/manual/index.html">The Kate User Manual</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/manual/intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/intro/hardware.html">Tech specs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/intro/emulator.html">Emulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/intro/install.html">Installing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/manual/gaming/index.html">Playing games</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/gaming/cartridges.html">ROM Cartridges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/gaming/captures.html">Screen recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/gaming/save-data.html">Save data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/gaming/play-habits.html">Play habits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/gaming/storage.html">Stored data</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/manual/security/index.html">Security and privacy</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/security/philosophy.html">Safety philosophy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/security/sandboxing.html">Sandboxing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/security/privacy.html">Privacy policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/security/trust.html">Trust and consent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/manual/security/audit.html">Audit logs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/importer/index.html">The Kate Importer Manual</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/importer/renpy.html">Ren’Py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/importer/bitsy.html">Bitsy</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game developer books</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dev/manual/index.html">Making games for Kate!</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dev/manual/intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/intro/why.html">Why make games for Kate?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/intro/setup.html">What will you need?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/intro/hello-world.html">Hello, World</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dev/manual/model/index.html">Programming model</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/model/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/model/cartridges.html">Cartridges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/model/sandboxing.html">Sandboxing and APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/model/capabilities.html">Capabilities</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dev/manual/api/index.html">Kate API</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/events.html"><code class="docutils literal notranslate"><span class="pre">events</span></code> — Event handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/cart-fs.html"><code class="docutils literal notranslate"><span class="pre">cart_fs</span></code> — Reading files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/input.html"><code class="docutils literal notranslate"><span class="pre">*_input</span></code> — Reacting to player input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/timer.html"><code class="docutils literal notranslate"><span class="pre">timer</span></code> — Scheduling updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/capture.html"><code class="docutils literal notranslate"><span class="pre">capture</span></code> — Screenshots and video recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/store.html"><code class="docutils literal notranslate"><span class="pre">store</span></code> — Saving state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/api/browser.html"><code class="docutils literal notranslate"><span class="pre">browser</span></code> — Navigating to URLs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dev/manual/web/index.html">Web game support</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/web/basics.html">Basics of porting</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../dev/manual/web/bridges/index.html">Bridges</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/network-proxy.html">Network proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/input-proxy.html">Button input proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/pointer-input-proxy.html">Pointer input proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/local-storage-proxy.html">Local storage proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/indexeddb-proxy.html">IndexedDB proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/external-url-handler.html">External URL handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/preserve-webgl-render.html">Preserve WebGL Render</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/capture-canvas.html">Capture canvas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dev/manual/web/bridges/renpy-tweaks.html">Ren’Py tweaks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../dev/manual/kart/index.html">Kart — Packing cartridges</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/kart/getting-started.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/manual/kart/configuration.html">Configuration files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dev/port/index.html">Kate Porting Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/port/bitsy.html">Bitsy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/port/renpy.html">Ren’Py</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design and implementation</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Kate’s Design Documents</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">#00XX — Capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="00XX-live-audit.html"># 00XX - Live auditing</a></li>
<li class="toctree-l2"><a class="reference internal" href="0101-object-storage.html">#0101 — Object Store API</a></li>
<li class="toctree-l2"><a class="reference internal" href="01XX-external-url.html">#01XX — External URL navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="01XX-device-file-access.html">#01XX — Device file access</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, Terms, and Credits</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../etc/releases/index.html">Release notes</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../etc/releases/0.23.10.html">Kate v0.23.10  (October 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../etc/releases/0.23.8.html">Kate v0.23.8  (August 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../etc/releases/0.23.6.html">Kate v0.23.6  (June 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../etc/releases/0.23.5.html">Kate v0.23.5  (May 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../etc/releases/0.23.4.html">Kate v0.23.4  (April 2023)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../etc/licence.html">Terms of use</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/qteatime/kate/edit/main/docs/source/design/00XX-capabilities.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="xx-capabilities">
<h1>#00XX — Capabilities<a class="headerlink" href="#xx-capabilities" title="Permalink to this heading">#</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Q.</p>
</dd>
<dt class="field-even">Started<span class="colon">:</span></dt>
<dd class="field-even"><p>2023-07-24</p>
</dd>
<dt class="field-odd">Last updated<span class="colon">:</span></dt>
<dd class="field-odd"><p>2023-07-24</p>
</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><p>Design in progress</p>
</dd>
</dl>
<section id="timeline">
<h2>Timeline<a class="headerlink" href="#timeline" title="Permalink to this heading">#</a></h2>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>First draft</p></th>
<th class="head"><p>Proof of Concept</p></th>
<th class="head"><p>Stable implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2023-07-24</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h2>
<p>In order to provide a safe platform for users and provide more privacy
guarantees for users, Kate uses a capability-secure operating system.
Kate’s capabilities are unique names, as used in Snap, Flatpak, mobile OSs,
and the author’s previous work on Crochet. However they are not just
boolean flags.</p>
<p>The ability of configurating a capability puts Kate in a position that’s
between simple permission toggles (as seen in Snap, Flatpak, or Crochet’s
static capabilities), and fully-featured Object-Capabilities (as seen in
E, Pony, and Crochet’s dynamic capabilities).</p>
<p>Like in Crochet, Cartridges must specify its capabilities upfront, and users
decide whether to grant them or not. Capabilities fall into three categories:</p>
<ul class="simple">
<li><p><strong>Required</strong>: The cartridge cannot function without this feature;</p></li>
<li><p><strong>Optional</strong>: The cartridge provides additional content iff this feature is available;</p></li>
<li><p><strong>Contextual</strong>: The cartridge will ask for this feature in response to a user’s action;</p></li>
</ul>
<p>Contextual capabilities must still be requested from the cartridge, but users
will be prompted every time they’re used — and they may <em>disallow future prompts</em>
at any time.</p>
<p>Together, these capabilities form the basis of Kate’s ideas of security,
privacy, and active consent.</p>
</section>
<section id="why-use-capabilities">
<h2>Why use capabilities?<a class="headerlink" href="#why-use-capabilities" title="Permalink to this heading">#</a></h2>
<p>When it comes to security, there are two major design approaches: ACLs and
Capabilities. They both boil down to different answers to the question of
“Is this application allowed to do X?”</p>
<p>With ACLs, different <em>users</em> are assigned different permissions. Applications
then inherit all permissions from whoever user is running them. For example,
if your regular user can delete every file in your personal files folder, and
you run a random application as that user, then the application would likewise
be able to delete every file in your personal files folder.</p>
<p>With Capabilities, different <em>processes</em> are assigned different permissions.
This means that each application will get its own set of permissions, regardless
of which user runs them. Users are likewise just processes here, so each user
will have its own independent set of permissions. Any process can delegate
some of its permissions to other processes, but it can’t delegate permissions
that it doesn’t have.</p>
<p>Let’s say that Alice is a user who can delete all files in her personal files
folder, but not files in Bob’s personal files folder. The application “Remove”
is an application that can delete any files it’s given permissions for. When
Alice runs the “Remove” application, no matter how hard she tries, she won’t
be able to get “Remove” to delete any of the files in Bob’s personal files
folder because she herself does not have that power to grant the application.</p>
<p>The main difference between Capabilities and ACLs here is that no process
magically inherits any permissions. That is, if Alice runs the “Remove”
application without explicitly giving it powers over any files, then the
“Remove” application won’t be able to delete any file — even though Alice
herself can delete her own files.</p>
<p>Capabilities work together with users and applications to form a conversation
where powers can be negotiated. Applications can ask for things the user can
do, and users can decide whether that is a sensible thing to allow or not.
Users are always in control.</p>
</section>
<section id="kate-s-capability-design">
<h2>Kate’s capability design<a class="headerlink" href="#kate-s-capability-design" title="Permalink to this heading">#</a></h2>
<p>In Kate, capabilities are static keys that a cartridge can ask for. These
keys can take additional configuration to further restrict the powers
granted to the cartridge. For example, a cartridge asking for a
<code class="docutils literal notranslate"><span class="pre">Network</span> <span class="pre">Access</span></code> capability would then need to specify which domains
it needs access to.</p>
<p>From the point of view of a cartridge, the a capability is an unique key,
a possibly set of configurations (which differs by capability), a usage
restriction (e.g.: Contextual, Required, or Optional), and the reason
why the cartridge needs this capability.</p>
<p>This reason is never shown to the user <em>for risk assessment decision</em>,
because malicious cartridges could literally write anything there and
mislead users regarding what risks they’d be taking. Rather, it’s used
for store reviews and additional clarification for the user <em>after being
informed of all risks</em>.</p>
<p>Additionally, capabilities have an associated “risk category”. This is
similar to Crochet’s idea of risk category, which has different
capabilities classified in low, medium, high, or critical risk. The riskier
a capability is, the more security review is necessary to get a cartridge
accepted, and the more users are encouraged to make appropriate risk
assessments in their own context. Risk categories allow us to lessen the
burden on users by avoiding the case where we list hundreds of low-risk
capabilities and bury important high-risk ones in the noise.</p>
<p>Unlike Crochet, however, Kate’s risk categories are statically defined by
the OS, rather than the cartridges. In the future we might have
cartridge-provided capabilities as well, so this might change, but right
now all capabilities are provided by the OS, thus all risk categories are
defined by the OS.</p>
<p>Some combinations of capabilities also increase their risk category. For
example, “File access” is a medium risk category, and “Network access” is
a high risk one. But when these are combined the overall cartridge risk is
bumped to “critical” rather than taking the maximum of all risks (“high” in
this case). That’s because combining “File access” with “Network access” opens
up the door for far more dangerous and potentially harmful data exfiltration
attacks which are not pratical with either of those capabilities separately.</p>
</section>
<section id="capability-management">
<h2>Capability management<a class="headerlink" href="#capability-management" title="Permalink to this heading">#</a></h2>
<p>Unlike ACLs, capabilities require active management. The more fine-grained they
are, the more management is required from users. Capability management is
possibly the most dangerous part of a capability-secure implementation, since
we might burden the user so much with the details of management that we
<em>prevent</em> them from doing any actual risk assessment and hence end up with
a system that’s less secure and private than an equivalent one using ACLs;
and in the process end up causing a lot more harm to users.</p>
<p>Kate’s approach to capability management is derived from the work in Crochet,
but also inspired by capability management in mobile OSs and web browsers.
We want to shif the burden, as much as possible, to cartridge authors and
store administrators, rather than cartridge users. This way we can leave users
in charge of deciding the amount of risk they’re comfortable with taking.</p>
<p>To that end Kate makes the following choices:</p>
<ul>
<li><p><strong>Encourage contextual capabilities</strong>: Most capabilities don’t need to be
granted to the cartridge at all times; we don’t need to burden the user with
upfront risk assessment for things they can’t even predict or put in context.</p>
<p>Assessing the risk of something like “can this cartridge access the internet?”
when you’re installing the cartridge is a very different game from assessing
the risk of clicking on something in the cartridge and being asked
“would you like to open <a class="reference external" href="https://qteati.me/">https://qteati.me/</a>?”</p>
</li>
<li><p><strong>Auto-grant as many capabilities as reasonable</strong>: Many capabilities are
low-risk enough that, for the vast majority of users, it makes sense to
just auto-grant them when the cartridge is installed and notify the users
of high-level risks instead of providing them with an endless screen of
switches for very fine-grained details.</p>
<p>Mobile OSs and web browsers have likewise moved in this direction of
auto-granting low-risk capabilities and giving users a chance of disallowing
them if their threat model is not the average one — users with a higher
threat model are more likely to do more detailed risk assessment in any
case.</p>
</li>
<li><p><strong>Rely on risk categories to summarise risks</strong>: It’s possible that a
cartridge asking more than a couple of capabilities ends up drowning
important, high-risk capabilities in noise. This, in turn, leads to
the same security alarm fatigue many infosec professionals need to
deal with.</p>
<p>By being able to categorise capabilities into risk profiles we can
surface the ones that are more relevant to the user’s threat model
and help them make a better risk assessment for their own personal
context.</p>
</li>
</ul>
<p>Risk management is always an active part of using any system, so Kate
acknowledges it doesn’t end after installing the cartridge. This means
that users only make an initial risk assessment upon installation
(if the cartridge falls into the “risky” profile), and later has to
manage the risks from both contextual capability dialogs and from the
capability management page for each cartridge.</p>
</section>
<section id="users-risk-profile">
<h2>Users’ risk profile<a class="headerlink" href="#users-risk-profile" title="Permalink to this heading">#</a></h2>
<p>The user’s risk profile describes to Kate what the user is comfortable with
so that we don’t burden them with unecessary security alerts. Kate allows
the user to set this profile based on its own risk categories:</p>
<ul>
<li><p><strong>Low</strong>: Risks in this category are mostly mitigated, contained, or can
be handled through <em>informed</em> consent. It’s very unlikely that they would
lead to material harm.</p>
<p>E.g.: “can this cartridge save a file in your device?” has very low risk
if the cartridge’s content is static. The cartridge may be able to save
unwanted or harmful content on the users’ device; but for harmful content
(such as malware), further actions from the user would be required in
order to execute it.</p>
</li>
<li><p><strong>Medium</strong>: Risks in this category cannot be fully mitigated or contained,
and it’s not possible to provide <em>informed</em> consent. Material harm may be
mitigated through active consent, but it’s unclear if that applies to every
scenario.</p>
<p>E.g.: “can this cartridge read a file in your device?” has medium risk
if Kate cannot restrict the files the cartridge can read. It’s medium only
because the user needs to select the files that the cartridge will read,
so there’s informed consent involved, but it’s not possible to predict what
the cartridge will do with the data and files in the users’ device can
contain very sensitive information.</p>
</li>
<li><p><strong>High</strong>: Risks in this category cannot be fully mitigated or contained, and
it’s not possible to provide <em>active</em> consent. Material harm is likely,
though in the average case it’s unlikely to translate into physical or
mental harm; more vulnerable individuals may be more at risk.</p>
<p>E.g.: “can this cartridge access the internet?” has high risk because
Kate cannot tell the user when the cartridge will access the internet, what
it will use the internet for, and what information it’s going to download
or upload to external servers. Cartridges with this capability can alter
their content in ways that cannot be vetted or profile and track users in
ways that aren’t in line with Kate’s privacy guarantees.</p>
</li>
<li><p><strong>Critical</strong>: Risks in this category cannot be mitigated or contained.
Consent is not possible. Material harm is likely, and it’s possible that
it translates into physical or mental harm; more vulnerable individuals
are particularly at risk.</p>
<p>E.g.: “can this cartridge read files in your device and access the internet?”
has critical risk because a cartridge can exfiltrate data and mount attacks
in ways that cannot be predicted in a security review. For example, a photo
editing application with internet access can first read personal, possibly
intimate photos from a user and, without their consent, send those photos
over to an external server under the cartridge author’s control.</p>
</li>
</ul>
</section>
<section id="capability-enforcement">
<h2>Capability enforcement<a class="headerlink" href="#capability-enforcement" title="Permalink to this heading">#</a></h2>
<section id="grants">
<h3>Grants<a class="headerlink" href="#grants" title="Permalink to this heading">#</a></h3>
<p>Capabilities are granted in three distinct moments:</p>
<ul>
<li><p><strong>Installation</strong>: When a cartridge is installed, the cartridge will be
granted some initial set of capabilities. Some of these will be auto-granted,
and some of these will be asked the user, depending on its risk
classification.</p></li>
<li><p><strong>Setting changes</strong>: Users can go to the settings screen at any point
(even while the cartridge is running) and enable or disable any of the
capabilities that the cartridge is entitled to.</p>
<p>Note that, unlike some object-oriented implementations of capabilities,
revoking a capability here <em>does</em> take effect immediately. This, in turn,
implies that all capability-bearing actions have to be asynchronous and
go through the trusted capability supervisor anyway; holding a reference
to a powerful API is not enough.</p>
</li>
<li><p><strong>Contextual grants</strong>: Users may be prompted for grants or revocations of
contextual capabilities when the application attempts an action. In these
cases the grant or revocation also takes effect immediately, even if the
application has already got access to the API object.</p></li>
</ul>
<p>The following graph illustrates how capability grants are managed:</p>
<img alt="../_images/capability-grants.svg" src="../_images/capability-grants.svg" /></section>
<section id="enforcement">
<h3>Enforcement<a class="headerlink" href="#enforcement" title="Permalink to this heading">#</a></h3>
<p>Capabilities are enforced whenever the cartridge is running. In order to use
any capability-bearing API the cartridge must first ask the trusted Kernel for
the API access, then the Kernel API asks the Capability Supervisor if such
access applies to the cartridge. The cartridge is granted the power to use
the API if it has a grant for that capability.</p>
<p>The following graph illustrates this process:</p>
<img alt="../_images/capability-enforcement.svg" src="../_images/capability-enforcement.svg" /><p>It’s important to note that there are two distinct parts here: requesting
<em>access to</em> the API, and performing <em>actions in</em> the API. Both of these go
through the same process of asking the Capability Supervisor, but only
requesting access to the API will trigger a contextual grant dialog.</p>
<p>Here’s a less abstract example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Imagine</span></code> is a cartridge that allows users to paint images, and optionally
import layers from existing image files. To do so it has the <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">user</span> <span class="pre">files</span></code>
capability as “optional”, which means it’s not auto-granted when the user
installs the cartridge.</p></li>
<li><p>The user selects <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">from</span> <span class="pre">file...</span></code> button in the cartridge. The cartridge
asks for the “UserStorage” API object. The application does not have a
grant for this capability yet, but it’s entitled to have one, so Kate asks
the user if they would like to grant access to some files.</p></li>
<li><p>The user selects a file to grant the application access to and confirm the
grant. Only after all this time the request promise is resolved with the
“UserStorage” object. The cartridge keeps this in memory.</p></li>
<li><p>The cartridge then uses one of the methods in the “UserStorage” object to
read the file the user has granted access to and imports the image to its
canvas.</p></li>
<li><p>The resource indicators section is updated to indicate that a cartridge has
recently accessed the user’s files. The audit log is likewise updated.</p></li>
<li><p>Some time later, the user goes into the Settings screen for the cartridge
and removes all file access capabilities from it.</p></li>
<li><p>Upon returning to the cartridge screen, the <code class="docutils literal notranslate"><span class="pre">Imagine</span></code> cartridge uses its
“UserStorage” instance, which it kept in memory, to try reading the file
the user has previously granted again. This time, because the user has
removed the capabilities, the request fails immediately with a permission
error. No dialog is shown to the user, because the cartridge is not
requesting permission to the API, only trying to use its old object instance.</p></li>
<li><p>The audit log is updated with the failed request.</p></li>
</ul>
</section>
</section>
<section id="how-is-this-feature-dangerous">
<h2>How is this feature dangerous?<a class="headerlink" href="#how-is-this-feature-dangerous" title="Permalink to this heading">#</a></h2>
<p>Capabilities are a known model for managing permissions in a way that allows
users to better understand and control what applications can do on their
behalf, but it’s not without risks. Here we look at risks from the users’
perspectives, the Kernel’s perspective, and cartridges’ perspectives.</p>
<dl>
<dt><strong>Increased security management burden:</strong></dt><dd><p>Because capabilities can be very fine grained and allow users to control
a lot of details of their safety and privacy while using Kate, there’s a
risk that the average user will find the effort of managing their security
too high and hence put themselves in an unsafe position by granting more
capabilities than they should.</p>
<p>Kate addresses this with a couple of different approaches:</p>
<ul class="simple">
<li><p><strong>Risk profiles</strong>: users can decide a high-level baseline of risk they’re
okay with accepting by default; Kate will not force them to manage these
risks, allowing them to focus on the things they <em>do</em> care about instead.</p></li>
<li><p><strong>Encouraging contextual grants</strong>: cartridges should have as many contextual
grants as possible, this removes the upfront and continuous burden of
managing capabilities and instead puts them where the user can make some
cause/effect connection.</p></li>
</ul>
</dd>
<dt><strong>Fine grained capability noises:</strong></dt><dd><p>Because capabilities in Kate are finer grained than in most mobile OSs,
cartridges might end up asking for a large amount of capabilities and
important risk assessment might become difficult as users are unable to
know what to focus on.</p>
<p>Kate mitigates this by giving capabilities a risk category, then using these
risk categories to highlight more critical risks and summarise less critical
ones.</p>
</dd>
<dt><strong>Unclear cause/effect attacks:</strong></dt><dd><p>Because capabilities can be granted but not used immediately, there’s a risk
that a cartridge might be given a capability at point A, and only using it
maliciously at a much later point B, where the user might have forgotten that
the capability was granted at all.</p>
<p>Kate mitigates this in two distinct ways:</p>
<ul class="simple">
<li><p><strong>Resource indicators</strong>: when a cartridge uses a dangerous capability,
e.g.: file access or network access, Kate will notify the user that this
is happening through a secure icon on the screen.</p></li>
<li><p><strong>Audit logging</strong>: when cartridges use dangerous capabilities this use is
logged to the audit log. Users can then use the audit log to infer possible
effects and causes of those effects after-the-fact, and take the appropriate
measures to mitigate harm on their side.</p></li>
</ul>
<p>In the future we’d like to look into making critical capabilities short-lived
by default as well. This means that a user would not be able to grant a
critical capability on day 1 to a cartridge, and then access this cartridge
a month later and fall victim to an attack using that capability. How exactly
these capabilities will “expire” should be the subject of a separate
investigation.</p>
</dd>
<dt><strong>Misleading reasons for capabilities:</strong></dt><dd><p>Because Kate allows cartridges to provide a reason for asking for a
capability, it’s possible that authors of malicious cartridges write
misleading reasons that will misrepresent the risks to users and lead
them to make bad risk assessments.</p>
<p>For example, if a cartridge asks for “full network access” and give as
the reason “we’ll use this to show you cat pictures” that does not mean
that there are no risks to the user. Full network access still implies
that the cartridge would be able to exfiltrate user data, track users
in ways that don’t align with Kate’s privacy, or download malware in
ways that cannot be vetted in a security review.</p>
<p>Kate mitigates this by not showing the reason to users during any form
of risk assessment, but still allowing users to view these reasons as
a statement of the cartridge’s intent (which should not be taken as more
than that), should they choose to trust the cartridge <em>after</em> the risk
assessment.</p>
</dd>
<dt><strong>Unreliable grants:</strong></dt><dd><p>Because capabilities are checked at the point of usage and not only at
the point of request, it’s possible that a cartridge is granted access to
a powerful API object, but when they try to use it the grant is already
revoked.</p>
<p>Kate favours the user’s agency here and expects cartridges to handle
permission errors on all API operations, not only on API object requests.</p>
</dd>
<dt><strong>Storage overloading:</strong></dt><dd><p>Because capability uses are logged to the audit storage, there’s a risk that
misbehaving cartridges (either intentionally or accidentally) end up flooding
the system with capability requests that are denied, and hence filling up the
audit storage in unfair ways.</p>
<p>Kate mitigates this by letting the audit supervisor decide how much to log
and to ask particularly misbehaving cartridges to be terminated.</p>
</dd>
</dl>
</section>
<section id="references-and-additional-material">
<h2>References and additional material<a class="headerlink" href="#references-and-additional-material" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://www.erights.org/talks/thesis/">Robust composition: towards a unified approach to access control and concurrency control</a>
— academic thesis on capability security by Mark S. Miller;</p></li>
<li><p><a class="reference external" href="https://robotlolita.me/diary/2020/10/capability-security-ux/">Capability Security does not exist in a vacuum</a>
— blog post on capability security UX;</p></li>
<li><p><a class="reference external" href="https://snapcraft.io/docs/security-sandboxing">Snap’s security policy and sandboxing</a>
— documentation on Snap’s capability usage;</p></li>
<li><p><a class="reference external" href="https://papers.agoric.com/papers/capability-myths-demolished/abstract/">Capability myths demolished</a>
— academic paper comparing capability security and ACLs, by Mark S. Miller, Ka-Ping Yee, and Jonathan Shapiro;</p></li>
<li><p><a class="reference external" href="https://crochet.qteati.me/docs/reference/system/security/index.html">Crochet’s security and capabilities</a>
— documentation on Crochet’s static and dynamic approaches to capability security;</p></li>
<li><p><a class="reference external" href="https://tvcutsem.github.io/membranes">Isolating application sub-components with membranes</a>
— Tom Van Cutsem’s blog post on membranes and its use in the web;</p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="00XX-live-audit.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"># 00XX - Live auditing</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Kate’s Design Documents</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Q.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">#00XX — Capabilities</a><ul>
<li><a class="reference internal" href="#timeline">Timeline</a></li>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#why-use-capabilities">Why use capabilities?</a></li>
<li><a class="reference internal" href="#kate-s-capability-design">Kate’s capability design</a></li>
<li><a class="reference internal" href="#capability-management">Capability management</a></li>
<li><a class="reference internal" href="#users-risk-profile">Users’ risk profile</a></li>
<li><a class="reference internal" href="#capability-enforcement">Capability enforcement</a><ul>
<li><a class="reference internal" href="#grants">Grants</a></li>
<li><a class="reference internal" href="#enforcement">Enforcement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-is-this-feature-dangerous">How is this feature dangerous?</a></li>
<li><a class="reference internal" href="#references-and-additional-material">References and additional material</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>