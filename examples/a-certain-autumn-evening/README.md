# A certain autumn evening.

A short halloween-themed visual novel with light horror vibes. Written both
as a celebration for Kate's autumn release and to serve as a demo for
publishing Ren'Py games in Kate.

If you want to play this game you should rather look at the Itch.io page:
https://qteatime.itch.io/a-certain-autumn-evening

## Building

You'll need [Ren'Py 8.1](https://www.renpy.org/) or more recent. The build
requires manual steps and cannot be fully automated currently.

1. Copy this folder to your Ren'Py projects folder and set your current
   project to `a-certain-autumn-evening`.

2. In the Ren'Py launcher, select `Web (beta)` under `Actions`. Then click
   `Build Web Application`. This will generate an `autumn-1.0-dists` folder
   at the same level `a-certain-autumn-evening` is at.

3. Copy `kate.json`, `kate-autumn-thumbnail.png`, and `LICENCE.txt` from
   this folder to `autumn-1.0-dists`; the Ren'Py launcher does not copy
   these files automatically for web builds.

4. Build a Kate cartridge with Kart by running the following in the
   command line, while in the `autumn-1.0-dists` folder:

   ```shell
   $ kart kate.json --output autumn-1.0.kart
   ```

   [Note that Windows has restricted security rules for unsigned PowerShell
   scripts.](https://docs.kate.qteati.me/dev/manual/kart/getting-started.html#making-a-cartridge). The `$` is not part of the command, it's just
   there to indicate you should not run the command as an administrator user.

### Optional: optimising startup time

Because Ren'Py 8 uses a different Python version in the web runtime and the
native runtime, games generated by the launcher will need to be recompiled
every time they're started. The Ren'Py documentation recommends
[manually adding the web-based bytecode file to your game](https://www.renpy.org/doc/html/web.html#bytecode-cache).

You'll need to re-compile the web build and generate the cartridge again
after doing this.

### Optional: generating a Kate-based web distribution

If you're not uploading the Ren'Py web build directly to a web server or
hosting platform, like Itch.io, you can still make your cartridge playable
on a regular web browser by packaging it with the Kate emulator --- all
additional Kate features, such as configurable controls, video recording,
and save data management will work in that case.

To generate such web distribution you can run the following command from
the command line, in the same folder where your KART file is:

```shell
$ kate-dist autumn-1.0.kart --type web
```

This will create a `dist` folder containing all necessary files. You can
then zip the contents of this folder and upload to any service that accepts
static HTML files, like Itch.io.

## Licence

Code is released under the MIT licence. Included thumbnail and images are
released under a
[Creative Commons 4.0](https://creativecommons.org/licenses/by/4.0/)
licence.
