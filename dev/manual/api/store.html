<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="browser — Navigating to URLs" href="browser.html" /><link rel="prev" title="capture — Screenshots and video recording" href="capture.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2023.03.27 -->
        <title>store — Saving state - Kate 0.23.8 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     Both Kate and this documentation are a work in progress and may change at any time. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Kate 0.23.8 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">Kate 0.23.8 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">End-user books</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../user/manual/index.html">The Kate User Manual</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../user/manual/intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/intro/hardware.html">Tech specs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/intro/emulator.html">Emulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/intro/install.html">Installing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../user/manual/gaming/index.html">Playing games</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/gaming/cartridges.html">ROM Cartridges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/gaming/captures.html">Screen recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/gaming/save-data.html">Save data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/gaming/play-habits.html">Play habits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/gaming/storage.html">Stored data</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../user/manual/security/index.html">Security and privacy</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/security/philosophy.html">Safety philosophy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/security/sandboxing.html">Sandboxing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/security/privacy.html">Privacy policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/security/trust.html">Trust and consent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../user/manual/security/audit.html">Audit logs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game developer books</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Making games for Kate!</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../intro/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/why.html">Why make games for Kate?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/setup.html">What will you need?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/hello-world.html">Hello, World</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../model/index.html">Programming model</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../model/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model/cartridges.html">Cartridges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model/sandboxing.html">Sandboxing and APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model/capabilities.html">Capabilities</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Kate API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="events.html"><code class="docutils literal notranslate"><span class="pre">events</span></code> — Event handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="cart-fs.html"><code class="docutils literal notranslate"><span class="pre">cart_fs</span></code> — Reading files</a></li>
<li class="toctree-l3"><a class="reference internal" href="input.html"><code class="docutils literal notranslate"><span class="pre">*_input</span></code> — Reacting to player input</a></li>
<li class="toctree-l3"><a class="reference internal" href="timer.html"><code class="docutils literal notranslate"><span class="pre">timer</span></code> — Scheduling updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="capture.html"><code class="docutils literal notranslate"><span class="pre">capture</span></code> — Screenshots and video recording</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">store</span></code> — Saving state</a></li>
<li class="toctree-l3"><a class="reference internal" href="browser.html"><code class="docutils literal notranslate"><span class="pre">browser</span></code> — Navigating to URLs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../web/index.html">Web game support</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../web/basics.html">Basics of porting</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../web/bridges/index.html">Bridges</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/network-proxy.html">Network proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/input-proxy.html">Button input proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/pointer-input-proxy.html">Pointer input proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/local-storage-proxy.html">Local storage proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/indexeddb-proxy.html">IndexedDB proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/external-url-handler.html">External URL handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/preserve-webgl-render.html">Preserve WebGL Render</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/capture-canvas.html">Capture canvas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../web/bridges/renpy-tweaks.html">Ren’Py tweaks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../kart/index.html">Kart — Packing cartridges</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../kart/getting-started.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kart/configuration.html">Configuration files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../port/index.html">Kate Porting Recipes</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../port/bitsy.html">Bitsy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../port/renpy.html">Ren’Py</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design and implementation</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../design/index.html">Kate’s Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../design/00XX-capabilities.html">#00XX — Capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design/00XX-live-audit.html"># 00XX - Live auditing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design/0101-object-storage.html">#0101 — Object Store API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design/01XX-external-url.html">#01XX — External URL navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design/01XX-device-file-access.html">#01XX — Device file access</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes, Terms, and Credits</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../etc/releases/index.html">Release notes</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../etc/releases/0.23.8.html">Kate v0.23.8  (August 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../etc/releases/0.23.6.html">Kate v0.23.6  (June 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../etc/releases/0.23.5.html">Kate v0.23.5  (May 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../etc/releases/0.23.4.html">Kate v0.23.4  (April 2023)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../etc/licence.html">Terms of use</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indices and Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../py-modindex.html">Module Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/qteatime/kate/edit/main/docs/source/dev/manual/api/store.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-KateAPI.store">
<span id="store-saving-state"></span><h1><code class="docutils literal notranslate"><span class="pre">store</span></code> — Saving state<a class="headerlink" href="#module-KateAPI.store" title="Permalink to this heading">#</a></h1>
<p>The Object Store API (<code class="docutils literal notranslate"><span class="pre">store</span></code>) provides features to persist the cartridge
state across sessions, and to read it. The storage is not transactional,
but operations in it are atomic—that is, if a call to storing data returns
a successful response, then the data has been properly persisted on the
device’s storage, but there are no guarantees for modifying multiple
objects in the store.</p>
<p>Unlike most file systems, the Object Store API uses a design that’s more
similar to recent object stores offered in the cloud. That is, a flat
set of objects can be divided into buckets. Kate has a few other partitions
that have a special role in its security-oriented design, these are further
described in the <a class="reference internal" href="../../../design/0101-object-storage.html"><span class="doc">Object Storage API design document</span></a>.</p>
<section id="partitions-buckets-and-objects">
<h2>Partitions, buckets, and objects<a class="headerlink" href="#partitions-buckets-and-objects" title="Permalink to this heading">#</a></h2>
<p>The storage is partitioned by the cartridge’s versions, with a special
“unversioned” partition that is shared by all versions of the cartridge.
Cartridges are expected to save data whose format may change in the
versioned partition, whereas data that is guaranteed to never change
can be stored in the unversioned partition.</p>
<p>Each partition is divided into a set of buckets. A cartridge can create
up to 1,000 (one thousand) buckets to place objects on. A bucket is
similar to a folder in a hierarchical file system, in that it may
contain other objects, but buckets are not hierarchical—there’s no such
thing as a bucket inside of a bucket.</p>
<p>Buckets hold a set of objects. These are similar to files in that they
contain some data and some meta-data, but all operations on objects are
atomic and the API currently does not support streaming. A cartridge can
create up to 10,000 (ten thousand) objects, independent of how they’re
organised into buckets.</p>
</section>
<section id="upgrades-and-downgrades">
<h2>Upgrades and downgrades<a class="headerlink" href="#upgrades-and-downgrades" title="Permalink to this heading">#</a></h2>
<p>Data stored in versioned partitions needs to be <em>migrated</em> when the
user updates from one version of the cartridge to another. This only
happens on upgrades—that is, if the player upgrades the cartridge from
version 1.0 to version 2.0, then you’ll have a chance to convert the
save data from the previous version to the new version when your cartridge
is first launched. For downgrades, e.g.: if the user installs version 1.0
of the cartridge where they had version 2.0 before, there’s no migration:
the player gets whatever was stored in the previous version’s partition, and
the new version’s data sits untouched.</p>
<p>Version partitions are still kept when the user upgrades or downgrades
a cartridge, but partitions that are not pointed to by any cartridge are
marked as “unused”. Unused partitions may be removed after some period
of time depending on the storage cleaning policies that Kate uses. This
still gives players time to safely test if an upgrade will work for them,
while still having the option of going back to the old version as if
no upgrade ever happened.</p>
</section>
<section id="selecting-a-partition">
<h2>Selecting a partition<a class="headerlink" href="#selecting-a-partition" title="Permalink to this heading">#</a></h2>
<p>Usage of the storage API starts by selecting which partition you want to
read or store data in. Kate provides two functions for this:</p>
<dl class="py function">
<dt class="sig sig-object py" id="KateAPI.store.versioned">
<span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">versioned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#KateAPI.store.OSCartridge" title="KateAPI.store.OSCartridge"><span class="pre">OSCartridge</span></a></span></span><a class="headerlink" href="#KateAPI.store.versioned" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a versioned partition for the cartridge.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="KateAPI.store.unversioned">
<span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">unversioned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#KateAPI.store.OSCartridge" title="KateAPI.store.OSCartridge"><span class="pre">OSCartridge</span></a></span></span><a class="headerlink" href="#KateAPI.store.unversioned" title="Permalink to this definition">#</a></dt>
<dd><p>Returns an unversioned partition for the cartridge, where data is shared
by all versions.</p>
</dd></dl>

</section>
<section id="managing-a-partition">
<h2>Managing a partition<a class="headerlink" href="#managing-a-partition" title="Permalink to this heading">#</a></h2>
<p>From a partition you can query or manipulate the buckets that organise the
objects in it. It’s also possible to query the status of the storage usage,
so your cartridge can know when the data it’s storing is nearing its storage
quota.</p>
<p>The default quota for each partition is 64 MB. Cartridges are encouraged
to keep the storage usage below this number, as going over will cause store
operations to fail with no recovery option.</p>
<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">OSCartridge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KateIPC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">boolean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSCartridge" title="Permalink to this definition">#</a></dt>
<dd><p>Manages a specific storage partition for the cartridge. You cannot construct
instances of this class directly, instead you should use the
<a class="reference internal" href="#KateAPI.store.versioned" title="KateAPI.store.versioned"><code class="xref py py-func docutils literal notranslate"><span class="pre">versioned()</span></code></a> or <a class="reference internal" href="#KateAPI.store.unversioned" title="KateAPI.store.unversioned"><code class="xref py py-func docutils literal notranslate"><span class="pre">unversioned()</span></code></a> functions of the storage
API to get a properly initialised instance.</p>
</dd></dl>

<section id="managing-buckets">
<h3>Managing buckets<a class="headerlink" href="#managing-buckets" title="Permalink to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.list_buckets">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">list_buckets</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">count:</span> <span class="pre">number</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><span class="pre">Array</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.OSBucket" title="KateAPI.store.OSBucket"><span class="pre">OSBucket</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSCartridge.list_buckets" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>count</strong> – If provided, limit the number of buckets returned.</p>
</dd>
</dl>
<p>Retrieves a list of buckets that exist in the current partition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.add_bucket">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">add_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.OSBucket" title="KateAPI.store.OSBucket"><span class="pre">OSBucket</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSCartridge.add_bucket" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the bucket, up to 255 UTF-16 characters.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>EExists</strong> – if there’s already a bucket with the same name.</p></li>
<li><p><strong>EQuota</strong> – if the bucket count quota is exceeded.</p></li>
<li><p><strong>EValidation</strong> – if the name is over 255 characters.</p></li>
</ul>
</dd>
</dl>
<p>Creates a bucket in the partition, granted there is none already with the given name.
The name can be anything, but it’s limited to 255 UTF-16 characters.</p>
<p>The method will fail if the cartridge has already reached its quota
of buckets for the partition. You can check the quota and usage through
<a class="reference internal" href="#KateAPI.store.OSCartridge.usage" title="KateAPI.store.OSCartridge.usage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">usage()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.get_bucket">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">get_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.OSBucket" title="KateAPI.store.OSBucket"><span class="pre">OSBucket</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSCartridge.get_bucket" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the bucket.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ENotFound</strong> – if there’s no bucket with the given name in the partition.</p></li>
<li><p><strong>EValidation</strong> – if the name is over 255 characters.</p></li>
</ul>
</dd>
</dl>
<p>Returns the bucket with the given name, if one exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.ensure_bucket">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">ensure_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.OSBucket" title="KateAPI.store.OSBucket"><span class="pre">OSBucket</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSCartridge.ensure_bucket" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the bucket, up to 255 UTF-16 characters.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>EQuota</strong> – if there’s no bucket with the name, and creating one would violate the bucket quota.</p></li>
<li><p><strong>EValidation</strong> – if the name is over 255 characters.</p></li>
</ul>
</dd>
</dl>
<p>If there’s already a bucket with the given name, returns a bucket object
for it. Otherwise attempts to create a new bucket with the given name and
return it.</p>
<p>Creating a new bucket may fail if there’s no remaining quota for creating
buckets. See <a class="reference internal" href="#KateAPI.store.OSCartridge.usage" title="KateAPI.store.OSCartridge.usage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">usage()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.delete_bucket">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">delete_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSCartridge.delete_bucket" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the bucket, up to 255 UTF-16 characters.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>EValidation</strong> – if the bucket name is over 255 characters.</p></li>
<li><p><strong>ENotFound</strong> – if the bucket does not exist in the partition.</p></li>
</ul>
</dd>
</dl>
<p>Deletes a bucket from the partition. The bucket being deleted must exist.</p>
</dd></dl>

</section>
<section id="quota-and-usage">
<h3>Quota and usage<a class="headerlink" href="#quota-and-usage" title="Permalink to this heading">#</a></h3>
<p>Each partition has a specified quota. Players are shown this when they
inspect a cartridge’s storage usage, but a cartridge can also query its
own quota and usage data for each partition.</p>
<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.QuotaDetails">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">QuotaDetails</span></span><a class="headerlink" href="#KateAPI.store.QuotaDetails" title="Permalink to this definition">#</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.QuotaDetails.size_in_bytes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size_in_bytes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">number</span></em><a class="headerlink" href="#KateAPI.store.QuotaDetails.size_in_bytes" title="Permalink to this definition">#</a></dt>
<dd><p>The size of all data stored in a partition, in bytes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.QuotaDetails.buckets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">buckets</span></span><a class="headerlink" href="#KateAPI.store.QuotaDetails.buckets" title="Permalink to this definition">#</a></dt>
<dd><p>The number of buckets in a partition.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.QuotaDetails.entries">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entries</span></span><a class="headerlink" href="#KateAPI.store.QuotaDetails.entries" title="Permalink to this definition">#</a></dt>
<dd><p>The number of entries in a partition.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.PartitionUsage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">PartitionUsage</span></span><a class="headerlink" href="#KateAPI.store.PartitionUsage" title="Permalink to this definition">#</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.PartitionUsage.limits">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">limits</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#KateAPI.store.QuotaDetails" title="KateAPI.store.QuotaDetails"><span class="pre">QuotaDetails</span></a></em><a class="headerlink" href="#KateAPI.store.PartitionUsage.limits" title="Permalink to this definition">#</a></dt>
<dd><p>The quota assigned for the partition.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.PartitionUsage.usage">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">usage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#KateAPI.store.QuotaDetails" title="KateAPI.store.QuotaDetails"><span class="pre">QuotaDetails</span></a></em><a class="headerlink" href="#KateAPI.store.PartitionUsage.usage" title="Permalink to this definition">#</a></dt>
<dd><p>The current resource usage for the partition.</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSCartridge.usage">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSCartridge.</span></span><span class="sig-name descname"><span class="pre">usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.PartitionUsage" title="KateAPI.store.PartitionUsage"><span class="pre">PartitionUsage</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSCartridge.usage" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the current quota for the partition, and how much of the quota
is un use.</p>
</dd></dl>

</section>
</section>
<section id="managing-objects">
<h2>Managing objects<a class="headerlink" href="#managing-objects" title="Permalink to this heading">#</a></h2>
<p>Objects are contained in buckets, so in order to manage objects you must
first acquire a bucket reference—either by reading an existing one or
creating a new bucket.</p>
<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">OSBucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KateIPC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">boolean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket" title="Permalink to this definition">#</a></dt>
<dd><p>Manages a specific bucket in a specific partition. You cannot construct
instances of bucket objects directly. Instead, you get references to
buckets through the <a class="reference internal" href="#KateAPI.store.OSCartridge" title="KateAPI.store.OSCartridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">OSCartridge</span></code></a> class, for example by using
<a class="reference internal" href="#KateAPI.store.OSCartridge.ensure_bucket" title="KateAPI.store.OSCartridge.ensure_bucket"><code class="xref py py-meth docutils literal notranslate"><span class="pre">OSCartridge.ensure_bucket()</span></code></a>.</p>
</dd></dl>

<section id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h3>
<p>An object is made out of a meta-data section, and its data. Data in the storage
API uses a structured format, and so preserves the same types from the
JavaScript host, although it supports only a subset of these types.</p>
<p>The types supported are:</p>
<ul class="simple">
<li><p>Primitives: string, number, bigint, boolean, null, undefined;</p></li>
<li><p>Built-in scalars: Date, RegExp;</p></li>
<li><p>Built-in containers: Array, Map, Set;</p></li>
<li><p>Built-in packed binaries: TypedArray (Uint8Array, Uint16Array, …), ArrayBuffer;</p></li>
<li><p>Plain objects (i.e.: no functions, no prototype chains);</p></li>
</ul>
<p>To know how sizes for each of these are computed, see the
<a class="reference internal" href="../../../design/0101-object-storage.html"><span class="doc">Object Storage API design document</span></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">ObjectMetadata</span></span><a class="headerlink" href="#KateAPI.store.ObjectMetadata" title="Permalink to this definition">#</a></dt>
<dd><p>Contains the metadata for a stored object.</p>
<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.key">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">string</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.key" title="Permalink to this definition">#</a></dt>
<dd><p>A unique identifier for the object in the bucket.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.created_at">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">created_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Date</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.created_at" title="Permalink to this definition">#</a></dt>
<dd><p>A timestamp of when the object was first added to the bucket.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.updated_at">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">updated_at</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Date</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.updated_at" title="Permalink to this definition">#</a></dt>
<dd><p>A timestamp of the last write to this object in the bucket.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">string</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.type" title="Permalink to this definition">#</a></dt>
<dd><p>A <a class="reference internal" href="../../../glossary.html#term-MIME-type"><span class="xref std std-term">MIME type</span></a> associated with the object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">number</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.size" title="Permalink to this definition">#</a></dt>
<dd><p>The size of the object, in bytes.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.ObjectMetadata.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">{[key:</span> <span class="pre">string]:</span> <span class="pre">unknown}</span></em><a class="headerlink" href="#KateAPI.store.ObjectMetadata.metadata" title="Permalink to this definition">#</a></dt>
<dd><p>An object with additional and arbitrary metadata associated with the object.
This counts towards the size of the object as well, and is likewise limited
to the same types as the object’s data is.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.Object">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">Object</span></span><a class="headerlink" href="#KateAPI.store.Object" title="Permalink to this definition">#</a></dt>
<dd><p>Extends <a class="reference internal" href="#KateAPI.store.ObjectMetadata" title="KateAPI.store.ObjectMetadata"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectMetadata</span></code></a> with a field for the object’s data.</p>
<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.Object.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">unknown</span></em><a class="headerlink" href="#KateAPI.store.Object.data" title="Permalink to this definition">#</a></dt>
<dd><p>The data stored for the object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="querying-objects">
<h3>Querying objects<a class="headerlink" href="#querying-objects" title="Permalink to this heading">#</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.count">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><span class="pre">number</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.count" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the number of objects in the bucket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.list">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">list</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">count:</span> <span class="pre">number</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><span class="pre">Array</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.ObjectMetadata" title="KateAPI.store.ObjectMetadata"><span class="pre">ObjectMetadata</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.list" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>count</strong> – If provided, the returned list will contain at most this number of elements.</p>
</dd>
</dl>
<p>Returns the metadata for all (or up to <code class="docutils literal notranslate"><span class="pre">count</span></code>) objects in the bucket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.read">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.Object" title="KateAPI.store.Object"><span class="pre">Object</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.read" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The unique key identifying the object.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ENotFound</strong> – if the object does not exist in the bucket.</p>
</dd>
</dl>
<p>Returns the object associated with the given unique key in the bucket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.read_data">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">read_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><span class="pre">unknown</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.read_data" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The unique key identifying the object.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ENotFound</strong> – if the object does not exist in the bucket.</p>
</dd>
</dl>
<p>A convenience for <a class="reference internal" href="#KateAPI.store.OSBucket.read" title="KateAPI.store.OSBucket.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> which returns the contents of the object.
Equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="k">await</span> <span class="n">bucket</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">key</span><span class="p">))</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.try_read">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">try_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#KateAPI.store.Object" title="KateAPI.store.Object"><span class="pre">Object</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">null</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.try_read" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The unique key identifying the object.</p>
</dd>
</dl>
<p>Returns the object associated with the given key in the bucket, or <code class="docutils literal notranslate"><span class="pre">null</span></code>
if there’s no such object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.try_read_data">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">try_read_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Promise</span><span class="p"><span class="pre">[</span></span><span class="pre">unknown</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">null</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#KateAPI.store.OSBucket.try_read_data" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The unique key identifying the object.</p>
</dd>
</dl>
<p>Returns the contents of the object associated with the given key in the
bucket, if it exists. Otherwise returns <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>Note that since <code class="docutils literal notranslate"><span class="pre">null</span></code> is still valid content, it’s impossible to tell
from the return of this function whether the object truly exists in the
storage or not.</p>
</dd></dl>

</section>
<section id="updating-and-deleting-objects">
<h3>Updating and deleting objects<a class="headerlink" href="#updating-and-deleting-objects" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="KateAPI.store.NewEntry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">KateAPI.store.</span></span><span class="sig-name descname"><span class="pre">NewEntry</span></span><a class="headerlink" href="#KateAPI.store.NewEntry" title="Permalink to this definition">#</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.NewEntry.type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">string</span></em><a class="headerlink" href="#KateAPI.store.NewEntry.type" title="Permalink to this definition">#</a></dt>
<dd><p>The <a class="reference internal" href="../../../glossary.html#term-MIME-type"><span class="xref std std-term">MIME type</span></a> of the stored entry.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.NewEntry.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">{[key:</span> <span class="pre">string]:</span> <span class="pre">unknown}</span></em><a class="headerlink" href="#KateAPI.store.NewEntry.metadata" title="Permalink to this definition">#</a></dt>
<dd><p>A mapping of arbitrary metadata associated with the object. Will count
towards its stored size.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="KateAPI.store.NewEntry.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">unknown</span></em><a class="headerlink" href="#KateAPI.store.NewEntry.data" title="Permalink to this definition">#</a></dt>
<dd><p>The contents of the object, as a JavaScript structure.</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.write">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#KateAPI.store.NewEntry" title="KateAPI.store.NewEntry"><span class="pre">NewEntry</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket.write" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The unique key identifying this object in the bucket. Counts towards the stored size.</p></li>
<li><p><strong>entry</strong> – The object to store, counts towards the stored size.</p></li>
</ul>
</dd>
</dl>
<p>Creates or updates the object with the given <code class="docutils literal notranslate"><span class="pre">key</span></code> to have the specified
metadata and contents.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.write_structured">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">write_structured</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key:</span> <span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">unknown</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata:</span> <span class="pre">{[key:</span> <span class="pre">string]:</span> <span class="pre">unknown}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket.write_structured" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The unique key identifying this object in the bucket. Counts towards the stored size.</p></li>
<li><p><strong>entry</strong> – The object contents to store. Counts towards the stored size.</p></li>
<li><p><strong>metadata</strong> – An arbitrary mapping of information to associate with the object. Counts towards the stored size.</p></li>
</ul>
</dd>
</dl>
<p>A convenience for <a class="reference internal" href="#KateAPI.store.OSBucket.write" title="KateAPI.store.OSBucket.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> when writing non-binary data. This requires
less fields being provided and Kate will include additional metadata to identify
the object as a JavaScript structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.create">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#KateAPI.store.NewEntry" title="KateAPI.store.NewEntry"><span class="pre">NewEntry</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket.create" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The unique key identifying this object in the bucket. Counts towards the stored size.</p></li>
<li><p><strong>entry</strong> – The object to store. Counts towards the stored size.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>EExists</strong> – if an object already exists with this key.</p>
</dd>
</dl>
<p>Creates an object with the given <code class="docutils literal notranslate"><span class="pre">key</span></code> in the bucket, but fails if the
key is already in use by another object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.create_structured">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">create_structured</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key:</span> <span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">unknown</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata:</span> <span class="pre">{[key:</span> <span class="pre">string]:</span> <span class="pre">unknown}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket.create_structured" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The unique key identifying this object in the bucket. Counts towards the stored size.</p></li>
<li><p><strong>entry</strong> – The object contents to store. Counts towards the stored size.</p></li>
<li><p><strong>metadata</strong> – An arbitrary mapping of information to associate with the object. Counts towards the stored size.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>EExists</strong> – if an object already exists with this key.</p>
</dd>
</dl>
<p>A convenience for <a class="reference internal" href="#KateAPI.store.OSBucket.create" title="KateAPI.store.OSBucket.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a> when writing non-binary data. This requires
less fields being provided and Kate will include additional metadata to identify
the object as a JavaScript structure.</p>
<p>Like <a class="reference internal" href="#KateAPI.store.OSBucket.create" title="KateAPI.store.OSBucket.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a>, this fails if there’s already an object with the
same key in the bucket.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="KateAPI.store.OSBucket.delete">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">OSBucket.</span></span><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#KateAPI.store.OSBucket.delete" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The unique key identifying the object to delete.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ENotFound</strong> – if there’s no object with the given key in the bucket.</p>
</dd>
</dl>
<p>Removes the object pointed by the given key in the bucket, and releases
its previously used storage space. This will fail if there’s no object
with the given key.</p>
</dd></dl>

</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="browser.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><code class="docutils literal notranslate"><span class="pre">browser</span></code> — Navigating to URLs</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="capture.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="docutils literal notranslate"><span class="pre">capture</span></code> — Screenshots and video recording</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Q.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">store</span></code> — Saving state</a><ul>
<li><a class="reference internal" href="#partitions-buckets-and-objects">Partitions, buckets, and objects</a></li>
<li><a class="reference internal" href="#upgrades-and-downgrades">Upgrades and downgrades</a></li>
<li><a class="reference internal" href="#selecting-a-partition">Selecting a partition</a><ul>
<li><a class="reference internal" href="#KateAPI.store.versioned"><code class="docutils literal notranslate"><span class="pre">versioned()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.unversioned"><code class="docutils literal notranslate"><span class="pre">unversioned()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-a-partition">Managing a partition</a><ul>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge"><code class="docutils literal notranslate"><span class="pre">OSCartridge</span></code></a></li>
<li><a class="reference internal" href="#managing-buckets">Managing buckets</a><ul>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.list_buckets"><code class="docutils literal notranslate"><span class="pre">OSCartridge.list_buckets()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.add_bucket"><code class="docutils literal notranslate"><span class="pre">OSCartridge.add_bucket()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.get_bucket"><code class="docutils literal notranslate"><span class="pre">OSCartridge.get_bucket()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.ensure_bucket"><code class="docutils literal notranslate"><span class="pre">OSCartridge.ensure_bucket()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.delete_bucket"><code class="docutils literal notranslate"><span class="pre">OSCartridge.delete_bucket()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#quota-and-usage">Quota and usage</a><ul>
<li><a class="reference internal" href="#KateAPI.store.QuotaDetails"><code class="docutils literal notranslate"><span class="pre">QuotaDetails</span></code></a><ul>
<li><a class="reference internal" href="#KateAPI.store.QuotaDetails.size_in_bytes"><code class="docutils literal notranslate"><span class="pre">QuotaDetails.size_in_bytes</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.QuotaDetails.buckets"><code class="docutils literal notranslate"><span class="pre">QuotaDetails.buckets</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.QuotaDetails.entries"><code class="docutils literal notranslate"><span class="pre">QuotaDetails.entries</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#KateAPI.store.PartitionUsage"><code class="docutils literal notranslate"><span class="pre">PartitionUsage</span></code></a><ul>
<li><a class="reference internal" href="#KateAPI.store.PartitionUsage.limits"><code class="docutils literal notranslate"><span class="pre">PartitionUsage.limits</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.PartitionUsage.usage"><code class="docutils literal notranslate"><span class="pre">PartitionUsage.usage</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#KateAPI.store.OSCartridge.usage"><code class="docutils literal notranslate"><span class="pre">OSCartridge.usage()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#managing-objects">Managing objects</a><ul>
<li><a class="reference internal" href="#KateAPI.store.OSBucket"><code class="docutils literal notranslate"><span class="pre">OSBucket</span></code></a></li>
<li><a class="reference internal" href="#objects">Objects</a><ul>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata</span></code></a><ul>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.key"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.key</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.created_at"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.created_at</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.updated_at"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.updated_at</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.type"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.type</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.size"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.size</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.ObjectMetadata.metadata"><code class="docutils literal notranslate"><span class="pre">ObjectMetadata.metadata</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#KateAPI.store.Object"><code class="docutils literal notranslate"><span class="pre">Object</span></code></a><ul>
<li><a class="reference internal" href="#KateAPI.store.Object.data"><code class="docutils literal notranslate"><span class="pre">Object.data</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#querying-objects">Querying objects</a><ul>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.count"><code class="docutils literal notranslate"><span class="pre">OSBucket.count()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.list"><code class="docutils literal notranslate"><span class="pre">OSBucket.list()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.read"><code class="docutils literal notranslate"><span class="pre">OSBucket.read()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.read_data"><code class="docutils literal notranslate"><span class="pre">OSBucket.read_data()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.try_read"><code class="docutils literal notranslate"><span class="pre">OSBucket.try_read()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.try_read_data"><code class="docutils literal notranslate"><span class="pre">OSBucket.try_read_data()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#updating-and-deleting-objects">Updating and deleting objects</a><ul>
<li><a class="reference internal" href="#KateAPI.store.NewEntry"><code class="docutils literal notranslate"><span class="pre">NewEntry</span></code></a><ul>
<li><a class="reference internal" href="#KateAPI.store.NewEntry.type"><code class="docutils literal notranslate"><span class="pre">NewEntry.type</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.NewEntry.metadata"><code class="docutils literal notranslate"><span class="pre">NewEntry.metadata</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.NewEntry.data"><code class="docutils literal notranslate"><span class="pre">NewEntry.data</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.write"><code class="docutils literal notranslate"><span class="pre">OSBucket.write()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.write_structured"><code class="docutils literal notranslate"><span class="pre">OSBucket.write_structured()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.create"><code class="docutils literal notranslate"><span class="pre">OSBucket.create()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.create_structured"><code class="docutils literal notranslate"><span class="pre">OSBucket.create_structured()</span></code></a></li>
<li><a class="reference internal" href="#KateAPI.store.OSBucket.delete"><code class="docutils literal notranslate"><span class="pre">OSBucket.delete()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    </body>
</html>